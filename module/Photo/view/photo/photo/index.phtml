<?php
// set title
$this->headTitle($this->translate('Photos')); ?>
<?php $this->headScript()->prependFile($this->basePath() . '/js/photo.js'); ?>
<div class="content-container">
    <section class="section navigationBar">
        <div class="container">
            <ul class="nav nav-pills head-menu">
                <?php for ($i = count($years) - 1; $i >= max(0, count($years) - 5); $i--): ?>
                    <li>
                        <a href="<?= $this->url('photo/year', ['year' => $years[$i]]); ?>">
                            <?= $years[$i] ?>-<?= $years[$i] + 1 ?>
                        </a>
                    </li>
                <?php endfor; ?>
                <li role="presentation" class="dropdown">
                    <a class="dropdown-toggle"
                       data-toggle="dropdown"
                       href="#"
                       role="button"
                       aria-haspopup="true"
                       aria-expanded="false">
                        <?= $this->translate('Older') ?> <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <?php for ($i = max(0, count($years) - 6); $i > 0; $i--): ?>
                            <li>
                                <a href="<?= $this->url('photo/year', ['year' => $years[$i]]); ?>">
                                    <?= $years[$i] ?>-<?= $years[$i] + 1 ?>
                                </a>
                            </li>
                        <?php endfor ?>
                    </ul>
                </li>
            </ul>
        </div>
    </section>
    <section class="section albumHolder">
        <div class="container">
            <div class="row">
                <?php if (!empty($albums)): ?>
                    <?php foreach ($albums as $album): ?>
                        <?php if ($album->getPhotoCount() > 0): ?>
                            <div class="col-md-4 col-sm-6 col-xs-12 thumb albumContainer">
                                <div class="panel panel-default">
                                    <div class="titleAndDate">
                                        <div class="panel-heading">
                                            <a href="<?= $this->url('photo/album', ["album_id" => $album->getId()]); ?>">
                                                <h2><?= $album->getName(); ?></h2>
                                            </a>
                                        </div>
                                        <div class="panel-body">
                                            <?= $album->getStartDateTime()->format('F jS Y'); ?>
                                        </div>
                                    </div>
                                    <a href="<?= $this->url('photo/album', ["album_id" => $album->getId()]); ?>" class="thumbnail">
                                        <img class="img img-responsive" src="<?= $this->fileUrl($album->getCoverPath()) ?>" />
                                    </a>
                                </div>
                            </div>
                        <?php endif; ?>
                    <?php endforeach; ?>
                <?php endif; ?>
            </div>
        </div>
    </section>
</div>
