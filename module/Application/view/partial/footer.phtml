<?php

declare(strict_types=1);

use Application\View\HelperTrait;
use Laminas\View\Renderer\PhpRenderer;

/** @var PhpRenderer|HelperTrait $this */
?>
<footer class="footer mt-auto py-4 border-top text-secondary">
    <div class="container">
        <div class="row">
            <div class="hidden-xs col-sm-2 col-md-1">
                <div class="gi gewis-base" style="font-size: 7rem;"></div>
            </div>
            <div class="col-sm-10 col-md-11">
                <div class="row">
                    <div class="col-sm-8">
                        <?php
                        if ($this->acl('frontpage_service_acl')->isAllowed('infimum', 'view')): ?>
                            <h4><?= $this->translate('Infimum') ?></h4>
                            <p id="infimum-footer"><?= $this->translate('Loading an infimum...') ?></p>
                            <script type="text/javascript" nonce="<?= NONCE_REPLACEMENT_STRING ?>">
                                fetch('<?= $this->url('infimum') ?>')
                                    .then(result => result.json())
                                    .then(function (data) {
                                        document.getElementById('infimum-footer').textContent = data['content'];

                                        let secondInfimum;
                                        if (null !== (secondInfimum = document.getElementById('infimum-body'))) {
                                            secondInfimum.textContent = data['content'];
                                        }
                                    })
                                    .catch(function () {
                                        document.getElementById('infimum-footer').textContent =
                                            '<?= $this->translate('Unable to retrieve infimum.') ?>';

                                        let secondInfimum;
                                        if (null !== (secondInfimum = document.getElementById('infimum-body'))) {
                                            secondInfimum.textContent =
                                                '<?= $this->translate('Unable to retrieve infimum.') ?>';
                                        }
                                    });
                            </script>
                        <?php
                        endif ?>
                        <p class="mt-3">
                            &copy; 2013
                            - <?= date('Y') ?> S.v. GEWIS. <?php
                            echo $this->translate('All rights reserved.') ?>
                            <?= $this->translate(
                                'Made with <3 by the ApplicatieBeheerCommissie and Web Commissie (2013 - 2022).'
                            ) ?>
                        </p>
                    </div>
                    <div class="col-sm-4">
                        <span class="fas fa-address-book"></span> <a href="<?= $this->url(
                            'home/page',
                            [
                                'category' => 'vereniging',
                                'categoryEn' => 'association',
                                'sub_category' => 'contact',
                                'sub_categoryEn' => 'contact',
                            ],
                        ) ?>"><?= $this->translate('Contact') ?></a><br>
                        <span class="fab fa-linkedin"></span> <a
                            href="https://www.linkedin.com/company/study-association-gewis/">LinkedIn</a><br>
                        <span class="fab fa-facebook-square"></span> <a
                            href="https://www.facebook.com/svgewis/">Facebook</a><br>
                        <span class="fab fa-instagram"></span> <a
                            href="https://www.instagram.com/svgewis/">Instagram</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
